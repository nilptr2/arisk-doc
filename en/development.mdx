---
title: "å¼€å‘æŒ‡å—"
description: "è®¾ç½®å¼€å‘ç¯å¢ƒå¹¶é›†æˆ Arisk"
---

## å¼€å‘ç¯å¢ƒè®¾ç½®

å‡†å¤‡å¥½æœ¬åœ°å¼€å‘ç¯å¢ƒä»¥é›†æˆ Ariskã€‚

### å‰ç½®è¦æ±‚

å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨æ‹¥æœ‰ï¼š

- æ¥è‡ª [Arisk æ§åˆ¶å°](https://dashboard.arisk.com) çš„ API å¯†é’¥
- Node.js 16+ æˆ– Python 3.8+ æˆ– Go 1.19+
- å¯¹ REST API çš„åŸºæœ¬äº†è§£
- æ”¯æŒ HTTPS çš„ Webhook ç«¯ç‚¹ï¼ˆå¯é€‰ï¼‰

## SDK å®‰è£…

é€‰æ‹©æ‚¨å–œæ¬¢çš„ç¼–ç¨‹è¯­è¨€å¹¶å®‰è£…æˆ‘ä»¬çš„ SDKã€‚

<Tabs>
  <Tab title="Node.js">
    ```bash
    npm install @arisk/sdk
    # æˆ–
    yarn add @arisk/sdk
    ```
    
    ### åˆå§‹åŒ– SDK
    
    ```javascript
    import Arisk from '@arisk/sdk';
    
    const arisk = new Arisk({
      apiKey: process.env.ARISK_API_KEY,
      environment: 'production' // æˆ– 'sandbox'
    });
    ```
  </Tab>
  
  <Tab title="Python">
    ```bash
    pip install arisk-python
    ```
    
    ### åˆå§‹åŒ– SDK
    
    ```python
    from arisk import AriskClient
    
    client = AriskClient(
        api_key=os.getenv('ARISK_API_KEY'),
        environment='production'  # æˆ– 'sandbox'
    )
    ```
  </Tab>
  
  <Tab title="Go">
    ```bash
    go get github.com/arisk/arisk-go
    ```
    
    ### åˆå§‹åŒ– SDK
    
    ```go
    import "github.com/arisk/arisk-go"
    
    client := arisk.NewClient(
        arisk.WithAPIKey(os.Getenv("ARISK_API_KEY")),
        arisk.WithEnvironment("production"),
    )
    ```
  </Tab>
</Tabs>

## åŸºç¡€é›†æˆ

### åœ°å€é£é™©åˆ†æ

åˆ†ææ‰€æœ‰æ”¯æŒç½‘ç»œä¸Šçš„ä»»ä½•åŒºå—é“¾åœ°å€ã€‚

<CodeGroup>

```javascript JavaScript SDK
// åˆ†æå•ä¸ªåœ°å€
const result = await arisk.analyze.address({
  address: '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb',
  chain: 'ethereum'
});

console.log(`é£é™©è¯„åˆ†: ${result.riskScore}`);
console.log(`é£é™©ç­‰çº§: ${result.riskLevel}`);

// æ‰¹é‡åˆ†æ
const addresses = [
  '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb',
  '0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199'
];

const results = await arisk.analyze.batch({
  addresses,
  chain: 'ethereum'
});
```

```python Python SDK
# åˆ†æå•ä¸ªåœ°å€
result = client.analyze.address(
    address='0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb',
    chain='ethereum'
)

print(f"é£é™©è¯„åˆ†: {result.risk_score}")
print(f"é£é™©ç­‰çº§: {result.risk_level}")

# æ‰¹é‡åˆ†æ
addresses = [
    '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb',
    '0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199'
]

results = client.analyze.batch(
    addresses=addresses,
    chain='ethereum'
)
```

```go Go SDK
// åˆ†æå•ä¸ªåœ°å€
result, err := client.Analyze.Address(ctx, &arisk.AddressRequest{
    Address: "0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb",
    Chain:   "ethereum",
})

if err != nil {
    log.Fatal(err)
}

fmt.Printf("é£é™©è¯„åˆ†: %d\n", result.RiskScore)
fmt.Printf("é£é™©ç­‰çº§: %s\n", result.RiskLevel)
```

</CodeGroup>

### äº¤æ˜“ç­›æŸ¥

åœ¨æ‰§è¡Œäº¤æ˜“ä¹‹å‰è¿›è¡Œç­›æŸ¥ã€‚

```javascript
// ç­›æŸ¥å¾…å¤„ç†äº¤æ˜“
const txCheck = await arisk.screen.transaction({
  from: '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEb',
  to: '0x8626f6940E2eb28930eFb4CeF49B2d1F2C9C1199',
  amount: '1.5',
  chain: 'ethereum'
});

if (txCheck.riskLevel === 'critical') {
  console.error('âš ï¸ æ£€æµ‹åˆ°é«˜é£é™©äº¤æ˜“ï¼');
  // é˜»æ­¢æˆ–æ ‡è®°äº¤æ˜“
} else {
  console.log('âœ… äº¤æ˜“å·²æ‰¹å‡†');
  // ç»§ç»­å¤„ç†äº¤æ˜“
}
```

## Webhook é›†æˆ

æ¥æ”¶è¢«ç›‘æ§åœ°å€çš„å®æ—¶è­¦æŠ¥ã€‚

### è®¾ç½® Webhook ç«¯ç‚¹

<CodeGroup>

```javascript Express.js
const express = require('express');
const crypto = require('crypto');

const app = express();
app.use(express.json());

app.post('/webhook/arisk', (req, res) => {
  // éªŒè¯ webhook ç­¾å
  const signature = req.headers['x-arisk-signature'];
  const payload = JSON.stringify(req.body);
  
  const expectedSignature = crypto
    .createHmac('sha256', process.env.ARISK_WEBHOOK_SECRET)
    .update(payload)
    .digest('hex');
  
  if (signature !== expectedSignature) {
    return res.status(401).send('ç­¾åæ— æ•ˆ');
  }
  
  // å¤„ç† webhook
  const { event_type, data } = req.body;
  
  if (event_type === 'transaction.detected') {
    console.log(`æ–°äº¤æ˜“: ${data.tx_hash}`);
    console.log(`é£é™©ç­‰çº§: ${data.risk_level}`);
    
    // æ‚¨çš„è‡ªå®šä¹‰é€»è¾‘
    if (data.risk_level === 'critical') {
      // å‘å›¢é˜Ÿå‘é€è­¦æŠ¥
      notifySecurityTeam(data);
    }
  }
  
  res.status(200).send('OK');
});

app.listen(3000);
```

```python Flask
from flask import Flask, request, jsonify
import hmac
import hashlib
import os

app = Flask(__name__)

@app.route('/webhook/arisk', methods=['POST'])
def arisk_webhook():
    # éªŒè¯ webhook ç­¾å
    signature = request.headers.get('X-Arisk-Signature')
    payload = request.get_data()
    
    expected_signature = hmac.new(
        os.getenv('ARISK_WEBHOOK_SECRET').encode(),
        payload,
        hashlib.sha256
    ).hexdigest()
    
    if signature != expected_signature:
        return jsonify({'error': 'ç­¾åæ— æ•ˆ'}), 401
    
    # å¤„ç† webhook
    data = request.json
    event_type = data.get('event_type')
    
    if event_type == 'transaction.detected':
        print(f"æ–°äº¤æ˜“: {data['data']['tx_hash']}")
        print(f"é£é™©ç­‰çº§: {data['data']['risk_level']}")
        
        # æ‚¨çš„è‡ªå®šä¹‰é€»è¾‘
        if data['data']['risk_level'] == 'critical':
            notify_security_team(data['data'])
    
    return jsonify({'status': 'success'}), 200

if __name__ == '__main__':
    app.run(port=3000)
```

</CodeGroup>

### æ³¨å†Œ Webhook

```javascript
const webhook = await arisk.webhooks.create({
  url: 'https://your-app.com/webhook/arisk',
  events: ['transaction.detected', 'address.flagged'],
  secret: 'your-webhook-secret'
});

console.log(`Webhook ID: ${webhook.id}`);
```

<Note>
å§‹ç»ˆéªŒè¯ Webhook ç­¾åä»¥ç¡®ä¿è¯·æ±‚ç¡®å®æ¥è‡ª Ariskã€‚
</Note>

## ç¯å¢ƒé…ç½®

ä¸ºå¼€å‘å’Œç”Ÿäº§è®¾ç½®ä¸åŒçš„ç¯å¢ƒã€‚

```bash .env
# å¼€å‘ç¯å¢ƒ
ARISK_API_KEY=sk_test_xxxxxxxxxxxxx
ARISK_ENV=sandbox
ARISK_WEBHOOK_SECRET=whsec_dev_xxxxxxxxxxxxx

# ç”Ÿäº§ç¯å¢ƒ
ARISK_API_KEY=sk_live_xxxxxxxxxxxxx
ARISK_ENV=production
ARISK_WEBHOOK_SECRET=whsec_live_xxxxxxxxxxxxx
```

<Tabs>
  <Tab title="æ²™ç®±ç¯å¢ƒ">
    ä½¿ç”¨æ²™ç®±ç¯å¢ƒè¿›è¡Œæµ‹è¯•ï¼Œä¸ä¼šå½±å“ç”Ÿäº§æ•°æ®æˆ–æ¶ˆè€— API é…é¢ã€‚
    
    - æµ‹è¯• API å¯†é’¥: `sk_test_*`
    - ç«¯ç‚¹: `https://api-sandbox.arisk.com`
    - é€Ÿç‡é™åˆ¶: 100 è¯·æ±‚/åˆ†é’Ÿ
  </Tab>
  
  <Tab title="ç”Ÿäº§ç¯å¢ƒ">
    ç”Ÿäº§ç¯å¢ƒç”¨äºå®æ—¶äº¤æ˜“åˆ†æã€‚
    
    - æ­£å¼ API å¯†é’¥: `sk_live_*`
    - ç«¯ç‚¹: `https://api.arisk.com`
    - é€Ÿç‡é™åˆ¶: åŸºäºæ‚¨çš„å¥—é¤
  </Tab>
</Tabs>

## é”™è¯¯å¤„ç†

ä¸ºç”Ÿäº§åº”ç”¨å®ç°å¥å£®çš„é”™è¯¯å¤„ç†ã€‚

```javascript
try {
  const result = await arisk.analyze.address({
    address: '0xinvalid',
    chain: 'ethereum'
  });
} catch (error) {
  if (error.code === 'INVALID_ADDRESS') {
    console.error('åŒºå—é“¾åœ°å€æ ¼å¼æ— æ•ˆ');
  } else if (error.code === 'RATE_LIMIT_EXCEEDED') {
    console.error('è¶…å‡ºé€Ÿç‡é™åˆ¶ï¼Œè¯·åœ¨ä»¥ä¸‹æ—¶é—´åé‡è¯•:', error.retryAfter);
  } else if (error.code === 'NETWORK_NOT_SUPPORTED') {
    console.error('ä¸æ”¯æŒè¯¥åŒºå—é“¾ç½‘ç»œ');
  } else {
    console.error('æ„å¤–é”™è¯¯:', error.message);
  }
}
```

## æœ€ä½³å®è·µ

<AccordionGroup>
  <Accordion title="ğŸ” å®‰å…¨å­˜å‚¨ API å¯†é’¥">
    - åˆ‡å‹¿åœ¨æºä»£ç ä¸­ç¡¬ç¼–ç  API å¯†é’¥
    - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å®‰å…¨ä¿ç®¡åº“æœåŠ¡
    - å®šæœŸè½®æ¢ API å¯†é’¥
    - ä¸ºä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„å¯†é’¥
  </Accordion>
  
  <Accordion title="âš¡ é€Ÿç‡é™åˆ¶">
    - ä¸ºé‡è¯•å®ç°æŒ‡æ•°é€€é¿
    - é€‚å½“æ—¶ç¼“å­˜ç»“æœ
    - ä½¿ç”¨æ‰¹é‡ç«¯ç‚¹åˆ†æå¤šä¸ªåœ°å€
    - åœ¨æ§åˆ¶å°ä¸­ç›‘æ§é…é¢ä½¿ç”¨æƒ…å†µ
  </Accordion>
  
  <Accordion title="ğŸ¯ ä¼˜åŒ–æ€§èƒ½">
    - ç¼“å­˜ä½é£é™©åœ°å€ç»“æœ 24 å°æ—¶
    - ä½¿ç”¨æ‰¹é‡ API åˆ†æå¤šä¸ªåœ°å€
    - ä¸ºç”¨æˆ·è¾“å…¥å®ç°è¯·æ±‚é˜²æŠ–
    - è€ƒè™‘ä½¿ç”¨ Webhook è€Œä¸æ˜¯è½®è¯¢
  </Accordion>
  
  <Accordion title="ğŸ“Š ç›‘æ§å’Œæ—¥å¿—">
    - è®°å½•æ‰€æœ‰é«˜é£é™©æ£€æµ‹
    - ä¸ºæé«˜é£é™©çº§åˆ«è®¾ç½®è­¦æŠ¥
    - ç›‘æ§ API å“åº”æ—¶é—´
    - è·Ÿè¸ªè¯¯æŠ¥ç‡
  </Accordion>
</AccordionGroup>

## æµ‹è¯•

é›†æˆçš„ç¤ºä¾‹æµ‹è¯•ç”¨ä¾‹ï¼š

```javascript
describe('Arisk é›†æˆ', () => {
  it('åº”æ£€æµ‹é«˜é£é™©åœ°å€', async () => {
    const result = await arisk.analyze.address({
      address: '0xSANCTIONED_ADDRESS', // å·²çŸ¥å—åˆ¶è£åœ°å€
      chain: 'ethereum'
    });
    
    expect(result.riskLevel).toBe('critical');
    expect(result.categories.sanctions).toBe(true);
  });
  
  it('åº”å¤„ç†æ— æ•ˆåœ°å€', async () => {
    await expect(
      arisk.analyze.address({
        address: 'invalid',
        chain: 'ethereum'
      })
    ).rejects.toThrow('INVALID_ADDRESS');
  });
});
```

## ä¸‹ä¸€æ­¥

<CardGroup cols={2}>
  <Card
    title="API å‚è€ƒ"
    icon="book"
    href="/zh/api-reference/introduction"
  >
    æ¢ç´¢æ‰€æœ‰å¯ç”¨ç«¯ç‚¹å’Œå‚æ•°
  </Card>
  <Card
    title="ä»£ç ç¤ºä¾‹"
    icon="code"
    href="/zh/essentials/code"
  >
    æµè§ˆæ›´å¤šé›†æˆç¤ºä¾‹
  </Card>
</CardGroup>
